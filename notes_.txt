*) create aws user
*) download access keys
*) configure aws
    ğŸ’² aws configure --profile terraform
   
   print configuration
    ğŸ’² cat ~/.aws/credentials

        AWS Access Key ID
        AWS Secrey Access Key
        Default region
        Default output format

*) create provider.tf ğŸ“
*) create vpc.tf ğŸ“
*) create internet-gateway.tf ğŸ“
    to comunicate with the outer world


*) create subnets.tf
    create 2 private subnets
    create 2 public subnets

*) creating eips.tf ğŸ“ and nat-gateways.tf ğŸ“
    aws_nat_gateway allow instances access the internet. For instalations & updates etc...
    for endpoint we'll use Elastic IP
    We create 2 nat gateway for each awailability zone for high availability

*) create routing tables inside routing-tables.tf ğŸ“
    Public route table
    Private route table

    assosiate the routing tables with the subnets inside route-table-association.tf ğŸ“

*) Terraform EKS Cluster Example (AWS EKS IAM Roles | AWS EKS Load Balancer | AWS EKS Node Group )
    create EKS eks.tf ğŸ“
    here we define claster, aws_iam_role and attach policy to it, attach the role to eks claster
    
    create eks-node-groups.tf ğŸ“ 
    here we define role --> attach policies --> define instance groups && attach roles to the instance groups

Connect to the Cluster
-----------------------
*) Adding context to kubectl
    ğŸ’² cat ~/.kube/config
    ğŸ’² cat ~/.kube/config > kube_config_old.txt
    ğŸ’² rm ~/.kube/config
    

    ğŸ’² aws eks --region us-west-2 update-kubeconfig --name eks --profile vscode

    ğŸ’² kubectl get svc

Demonstrate that we can create private and public load balancers - by creating a simple application
------------------------------------------------------------------------------------------------------
*) after creating the app.yaml file with one deployment and two LoadBallancer cervices
ğŸ’² kubectl apply -f C:\dev\DevOps\Projects\terraform-eks\k8s\app.yaml
        LOGS:
        PS C:\dev\DevOps\Projects\terraform-eks> kubectl apply -f C:\dev\DevOps\Projects\terraform-eks\k8s\app.yaml
        deployment.apps/nginx created
        service/internal-nginx-service created
        service/external-nginx-service created

ğŸ’² kubectl get pods
ğŸ’² kubectl get svc
in case service is pending - we can do
ğŸ’² kubectl describe external-nginx-service

